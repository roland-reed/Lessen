{"version":3,"sources":["config.js","filter.js","component.js","utils.js","index.js"],"names":["require","config","paths","vue","filterConditions","key","keyText","values","text","rateConditions","titleBackgroundColor","hotList","filter","rate","search","help","detail","titleText","NETWORK_ERROR","MSG","time","SHOW_CACHED_DATA","SELECT_COURSE","SUBMIT_SUCCESS","Vue","type","natureScience","humanities","medicalScience","traditionalCulture","value","never","occasionally","always","toString","weekDay","timeArr","slice","length","i","len","weekSet","push","join","Date","parseInt","d","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","reqwest","$","component","props","Boolean","showBtn","required","Object","filterOptions","default","roll","exam","filterResult","filterLoading","filterError","obj","typeCheck","validator","utils","Array","template","methods","expandOrCollapse","target","height","num","parentNode","style","classList","contains","changeFilterOption","filterOption","nodeName","toUpperCase","filterUl","innerText","getAttribute","e","querySelectorAll","this","scrollTop","window","click","_this","data","then","getComputedStyle","getPropertyValue","res","fail","code","null","typeSet","Function","Nmuber","String","prototype","call","el","isShowSidebar","showSearch","windowShow","about","loading","rateTimes","commentTimes","startY","movedX","slideToHideSidebarPosition","movedY","slideTabPosition","startX","title","previousSidebar","titleContainerStyle","tabBarPosition","transform","title-reverse","titleContainerClass","support-touch","windowContainerClass","tabContainerClass","searchResult","toast","show","message","rateOptions","rateCourseSelected","rateSearchResult","name","teacher","teacherScore","nickname","comment","score","comments","document","addEventListener","concat","_toConsumableArray","h3","loadHotList","toggleSidebar","back","preventMask","changeRateCourse","preventDefault","msg","clearTimeout","toastTimeoutId","showToast","setTimeout","slideToToggleSidebar","action","sidebar","add","touches","clientX","clientY","removeAttribute","remove","changeTab","noLoadFlag","getElementsByTagName","position","forEach","previousIndex","li","index","scrollTo","localStorage","JSON","parse","timeStr","loadHistoryHostlist","url","_this2","removeItem","stringify","changeWindow","loadDetail","showDetail","_this3","detailRate","keys","_this4","error","_this5","q","_this6","course","submitRate","_this7","input","encodeURIComponent","optionLi","SUBMIT","method","innerHTML","wheel","tab","clientWidth","match","loadSystemStatus","_this8","systemStatus","documentElement","_this9","windowOption","body","$nextTick","rateComment","placeholder","selection","getSelection","range","createRange","removeAllRanges","addRange"],"mappings":"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","file":"app.js","sourcesContent":["require.config({\r\n\tpaths: {\r\n\t\tvue: 'https://cdn.bootcss.com/vue/1.0.26/vue.min',\r\n\t\treqwest: 'https://cdn.bootcss.com/reqwest/2.0.5/reqwest.min',\r\n\t\tqwery: 'https://cdn.bootcss.com/qwery/4.0.0/qwery'\r\n\t}\r\n});\r\n\r\nlet config = {\r\n\tfilterConditions: [{\r\n\t\tkey: 'rate',\r\n\t\tkeyText: '课程评分',\r\n\t\tvalues: [{\r\n\t\t\tvalue: 'default',\r\n\t\t\ttext: '不排序'\r\n\t\t}, {\r\n\t\t\tvalue: 'desc',\r\n\t\t\ttext: '从高到低'\r\n\t\t}, {\r\n\t\t\tvalue: 'asc',\r\n\t\t\ttext: '从低到高'\r\n\t\t}]\r\n\t}, {\r\n\t\tkey: 'roll',\r\n\t\tkeyText: '点名情况',\r\n\t\tvalues: [{\r\n\t\t\tvalue: 'default',\r\n\t\t\ttext: '不限'\r\n\t\t}, {\r\n\t\t\tvalue: 'never',\r\n\t\t\ttext: '从不点名'\r\n\t\t}, {\r\n\t\t\tvalue: 'occasionally',\r\n\t\t\ttext: '偶尔点名'\r\n\t\t}, {\r\n\t\t\tvalue: 'often',\r\n\t\t\ttext: '频繁点名'\r\n\t\t}, {\r\n\t\t\tvalue: 'always',\r\n\t\t\ttext: '必定点名'\r\n\t\t}]\r\n\t}, {\r\n\t\tkey: 'exam',\r\n\t\tkeyText: '期末考试',\r\n\t\tvalues: [{\r\n\t\t\tvalue: 'default',\r\n\t\t\ttext: '不限'\r\n\t\t}, {\r\n\t\t\tvalue: 'paper',\r\n\t\t\ttext: '论文'\r\n\t\t}, {\r\n\t\t\tvalue: 'openBookExam',\r\n\t\t\ttext: '开卷考试'\r\n\t\t}, {\r\n\t\t\tvalue: 'closeBookExam',\r\n\t\t\ttext: '闭卷考试'\r\n\t\t}]\r\n\t}, {\r\n\t\tkey: 'time',\r\n\t\tkeyText: '上课时间',\r\n\t\tvalues: [{\r\n\t\t\tvalue: 'default',\r\n\t\t\ttext: '不限'\r\n\t\t}, {\r\n\t\t\tvalue: '40506',\r\n\t\t\ttext: '周四下午5、6节'\r\n\t\t}, {\r\n\t\t\tvalue: '40708',\r\n\t\t\ttext: '周四下午7、8节'\r\n\t\t}, {\r\n\t\t\tvalue: 'other',\r\n\t\t\ttext: '其他上课时间'\r\n\t\t}]\r\n\t}, {\r\n\t\tkey: 'type',\r\n\t\tkeyText: '课程类型',\r\n\t\tvalues: [{\r\n\t\t\tvalue: 'default',\r\n\t\t\ttext: '不限'\r\n\t\t}, {\r\n\t\t\tvalue: 'natureScience',\r\n\t\t\ttext: '自然科学与现代技术'\r\n\t\t}, {\r\n\t\t\tvalue: 'societyScience',\r\n\t\t\ttext: '社会科学与现代技术'\r\n\t\t}, {\r\n\t\t\tvalue: 'traditionalCulture',\r\n\t\t\ttext: '传统文化与世界文明'\r\n\t\t}, {\r\n\t\t\tvalue: 'medicalScience',\r\n\t\t\ttext: '医学与生命科学'\r\n\t\t}, {\r\n\t\t\tvalue: 'humanities',\r\n\t\t\ttext: '人文学科与艺术审美'\r\n\t\t}]\r\n\t}],\r\n\trateConditions: [{\r\n\t\tkey: 'roll',\r\n\t\tkeyText: '点名情况',\r\n\t\tvalues: [{\r\n\t\t\tvalue: 'never',\r\n\t\t\ttext: '从不点名'\r\n\t\t}, {\r\n\t\t\tvalue: 'occasionally',\r\n\t\t\ttext: '偶尔点名'\r\n\t\t}, {\r\n\t\t\tvalue: 'often',\r\n\t\t\ttext: '频繁点名'\r\n\t\t}, {\r\n\t\t\tvalue: 'always',\r\n\t\t\ttext: '必定点名'\r\n\t\t}]\r\n\t}, {\r\n\t\tkey: 'exam',\r\n\t\tkeyText: '期末考试',\r\n\t\tvalues: [{\r\n\t\t\tvalue: 'paper',\r\n\t\t\ttext: '论文'\r\n\t\t}, {\r\n\t\t\tvalue: 'openBookExam',\r\n\t\t\ttext: '开卷考试'\r\n\t\t}, {\r\n\t\t\tvalue: 'closeBookExam',\r\n\t\t\ttext: '闭卷考试'\r\n\t\t}]\r\n\t}, {\r\n\t\tkey: 'teacherScore',\r\n\t\tkeyText: '老师评分',\r\n\t\tvalues: [{\r\n\t\t\tvalue: 6,\r\n\t\t\ttext: '6分'\r\n\t\t}, {\r\n\t\t\tvalue: 7,\r\n\t\t\ttext: '7分'\r\n\t\t}, {\r\n\t\t\tvalue: 8,\r\n\t\t\ttext: '8分'\r\n\t\t}, {\r\n\t\t\tvalue: 9,\r\n\t\t\ttext: '9分'\r\n\t\t}, {\r\n\t\t\tvalue: 10,\r\n\t\t\ttext: '10分'\r\n\t\t}]\r\n\t}],\r\n\ttitleBackgroundColor: {\r\n\t\thotList: '#db4437',\r\n\t\tfilter: '#03a9f4',\r\n\t\trate: '#0f9d58',\r\n\t\tsearch: '#fff',\r\n\t\thelp: '#fff',\r\n\t\tabout: '#fff',\r\n\t\tdetail: '#fff'\r\n\t},\r\n\ttitleText: {\r\n\t\thotList: '热门课程',\r\n\t\tfilter: '筛选',\r\n\t\trate: '评分',\r\n\t\tsearch: '搜索',\r\n\t\thelp: '帮助',\r\n\t\tabout: '关于',\r\n\t\tdetail: '详情'\r\n\t},\r\n\tMSG: {\r\n\t\tNETWORK_ERROR: '网络连接失败，请检查网络连接',\r\n\t\tSHOW_CACHED_DATA: (time) => `网络连接失败，现在显示的是历史数据（${time}）`,\r\n\t\tSUBMITTING: '正在提交',\r\n\t\tSUBMIT: '提交',\r\n\t\tSELECT_COURSE: '请选择你要评分的课程',\r\n\t\tSUBMIT_SUCCESS: '提交成功，感谢你的分享'\r\n\t}\r\n};","require(['vue'], function(Vue) {\r\n\tVue.filter('courseType', function(type) {\r\n\t\tif (!type) return '';\r\n\t\tlet set = {\r\n\t\t\tnatureScience: '自然科学与现代技术',\r\n\t\t\thumanities: '人文学科与艺术审美',\r\n\t\t\tmedicalScience: '医学与生命科学',\r\n\t\t\tsocietyScience: '社会科学与现代技术',\r\n\t\t\ttraditionalCulture: '传统文化与世界文明'\r\n\t\t};\r\n\t\treturn set[type];\r\n\t});\r\n\r\n\tVue.filter('courseRoll', function(value) {\r\n\t\tif (!value) return '暂无数据';\r\n\t\tlet set = {\r\n\t\t\tnever: '从不点名',\r\n\t\t\toccasionally: '偶尔点名',\r\n\t\t\toften: '频繁点名',\r\n\t\t\talways: '必定点名'\r\n\t\t};\r\n\t\treturn set[value];\r\n\t});\r\n\r\n\tVue.filter('courseTime', function(value) {\r\n\t\tif (!value) return '';\r\n\t\tvalue = value.toString();\r\n\t\tlet timeArr = [];\r\n\t\tlet weekDay = +value.slice(0, 1) - 1;\r\n\t\tlet weekSet = ['周一', '周二', '周三', '周四', '周五', '周六', '周日'];\r\n\t\tfor (let i = 0, len = parseInt(value.length / 2); i < len; i++) {\r\n\t\t\tlet time = +value.slice(1 + 2 * i, 3 + 2 * i);\r\n\t\t\tif (time > 9) {\r\n\t\t\t\ttimeArr.push(time);\r\n\t\t\t} else {\r\n\t\t\t\ttimeArr.push('0' + time);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn weekSet[weekDay] + timeArr.join('、') + '节';\r\n\t});\r\n\r\n\tVue.filter('timeStamp', function(value) {\r\n\t\tif (!value) return '';\r\n\t\tlet d = new Date(parseInt(value));\r\n\t\treturn `${d.getFullYear()}年${(d.getMonth()+1)}月${d.getDate()}日 ${d.getHours()}:${d.getMinutes()}:${d.getSeconds()}`;\r\n\t});\r\n});","require(['vue', 'reqwest', 'qwery'], function(Vue, reqwest, $) {\r\n\tVue.component('filter-conditions', {\r\n\t\tprops: {\r\n\t\t\tshowBtn: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\trequired: true\r\n\t\t\t},\r\n\t\t\tfilterOptions: {\r\n\t\t\t\ttype: Object,\r\n\t\t\t\trequired: true,\r\n\t\t\t\tdefault: {\r\n\t\t\t\t\trate: 'default',\r\n\t\t\t\t\troll: 'default',\r\n\t\t\t\t\texam: 'default',\r\n\t\t\t\t\ttype: 'default',\r\n\t\t\t\t\ttime: 'default'\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tfilterResult: [],\r\n\t\t\tfilterLoading: false,\r\n\t\t\tfilterError: false,\r\n\t\t\tfilterConditions: {\r\n\t\t\t\ttype: Array,\r\n\t\t\t\trequired: true,\r\n\t\t\t\tvalidator: function(obj) {\r\n\t\t\t\t\tif (!utils.typeCheck(obj, 'Array')) return false;\r\n\t\t\t\t\tobj.forEach(function(value) {\r\n\t\t\t\t\t\tif (!value.key || !value.keyText || !value.values) return false;\r\n\t\t\t\t\t\tif (typeof value.key !== 'string') return false;\r\n\t\t\t\t\t\tif (typeof value.keyText !== 'string') return false;\r\n\t\t\t\t\t\tif (!Array.isArray(value.values)) return false;\r\n\t\t\t\t\t\tif (value.values.length === 0) return false;\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\ttemplate: ` <ul class=\"main-filter\">\r\n\t\t\t\t\t\t<li v-for=\"filterCondition in filterConditions\">\r\n\t\t\t\t\t\t\t<h3 @click=\"expandOrCollapse\">\r\n\t\t\t\t\t\t\t\t<span v-text=\"filterCondition.keyText\"></span><span class=\"icon-expand\"></span>\r\n\t\t\t\t\t\t\t\t<span class=\"filter-selected\" v-text=\"filterCondition.values[0].text\"></span>\r\n\t\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t\t<ul class=\"sub-filter\" data-key=\"{{filterCondition.key}}\" @click=\"changeFilterOption\">\r\n\t\t\t\t\t\t\t\t<li v-for=\"option in filterCondition.values\" data-value=\"{{option.value}}\" v-text=\"option.text\"></li>\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<div v-if=\"showBtn\" class=\"filter-btn\" @click=\"filter\">开始筛选</div>\r\n\t\t\t\t\t</ul>`,\r\n\t\tmethods: {\r\n\t\t\texpandOrCollapse(e) {\r\n\t\t\t\tlet target = e.target;\r\n\t\t\t\twhile (target.nodeName.toUpperCase() !== 'H3') {\r\n\t\t\t\t\ttarget = target.parentNode;\r\n\t\t\t\t}\r\n\t\t\t\tif (target.classList.contains('filter-title-expand')) {\r\n\t\t\t\t\ttarget.parentNode.style.height = '48px';\r\n\t\t\t\t\ttarget.classList.remove('filter-title-expand');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tlet num = target.parentNode.querySelectorAll('ul li').length;\r\n\t\t\t\t\tlet height = num * 40 + 48;\r\n\t\t\t\t\ttarget.parentNode.style.height = height + 'px';\r\n\t\t\t\t\ttarget.classList.add('filter-title-expand');\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tchangeFilterOption(e) {\r\n\t\t\t\tlet target = e.target;\r\n\t\t\t\tlet filterOption = target.parentNode.parentNode;\r\n\t\t\t\tif (target.nodeName.toUpperCase() !== 'LI') return;\r\n\t\t\t\tlet filterUl = filterOption.querySelectorAll('ul')[0];\r\n\t\t\t\tlet text = target.innerText;\r\n\t\t\t\tlet key = filterUl.getAttribute('data-key');\r\n\t\t\t\tlet value = target.getAttribute('data-value');\r\n\r\n\t\t\t\tthis.filterOptions[key] = value;\r\n\t\t\t\tfilterOption.querySelectorAll('h3 .filter-selected')[0].innerText = text;\r\n\t\t\t\tfilterOption.querySelectorAll('h3')[0].click();\r\n\t\t\t},\r\n\t\t\tfilter() {\r\n\t\t\t\tthis.filterLoading = true;\r\n\t\t\t\tthis.filterError = false;\r\n\t\t\t\tlet scrollTop = parseInt(window.getComputedStyle($('.main-filter')[0]).getPropertyValue('height'))\r\n\r\n\t\t\t\treqwest({\r\n\t\t\t\t\turl: '/lessen/filter',\r\n\t\t\t\t\ttype: 'json',\r\n\t\t\t\t\tdata: this.filterOptions\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tthis.filterLoading = false;\r\n\r\n\t\t\t\t\tVue.nextTick(() => {\r\n\t\t\t\t\t\twindow.scrollTo(0, scrollTop);\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tif (res.code === 0) {\r\n\t\t\t\t\t\tthis.filterResult = res.data;\r\n\t\t\t\t\t}\r\n\t\t\t\t}).fail(() => {\r\n\t\t\t\t\tthis.filterLoading = false;\r\n\t\t\t\t\tthis.filterError = true;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n});","let utils = {\r\n\ttypeCheck(value, type) {\r\n\t\tlet typeSet = {\r\n\t\t\t'undefined': '[object Undefined]',\r\n\t\t\t'null': '[object Null]',\r\n\t\t\t'Array': '[object Array]',\r\n\t\t\t'Function': '[Function Object]',\r\n\t\t\t'Nmuber': '[Nmuber Object]',\r\n\t\t\t'Object': '[object Object]',\r\n\t\t\t'String': '[String Object]'\r\n\t\t};\r\n\r\n\t\tif (!type) return false;\r\n\t\tif (!typeSet[type]) return false;\r\n\t\treturn Object.prototype.toString.call(value) === typeSet[type] ? true : false;\r\n\t}\r\n};","require(['vue', 'reqwest', 'qwery'], function(Vue, reqwest, $) {\r\n\tnew Vue({\r\n\t\tel: '#app',\r\n\t\tdata: {\r\n\t\t\t// 全局状态\r\n\t\t\tisShowSidebar: false,\r\n\t\t\tshowSearch: false,\r\n\t\t\twindowShow: {\r\n\t\t\t\tdetail: false,\r\n\t\t\t\thotList: true,\r\n\t\t\t\tfilter: false,\r\n\t\t\t\trate: false,\r\n\t\t\t\tsearch: false,\r\n\t\t\t\thelp: false,\r\n\t\t\t\tabout: false\r\n\t\t\t},\r\n\t\t\tloading: {\r\n\t\t\t\thotList: true,\r\n\t\t\t\tdetail: false,\r\n\t\t\t\tfilter: false,\r\n\t\t\t\trate: false,\r\n\t\t\t\tsearch: false\r\n\t\t\t},\r\n\t\t\terror: {\r\n\t\t\t\tdetail: false,\r\n\t\t\t\tfilter: false,\r\n\t\t\t\tsearch: false\r\n\t\t\t},\r\n\t\t\tsystemStatus: {\r\n\t\t\t\trateTimes: '正在加载...',\r\n\t\t\t\tcommentTimes: '正在加载...'\r\n\t\t\t},\r\n\t\t\t// 侧边栏状态\r\n\t\t\tslideToHideSidebarPosition: {\r\n\t\t\t\tstartX: 0,\r\n\t\t\t\tstartY: 0,\r\n\t\t\t\tmovedX: 0,\r\n\t\t\t\tmovedY: 0\r\n\t\t\t},\r\n\t\t\tslideTabPosition: {\r\n\t\t\t\tstartX: 0,\r\n\t\t\t\tstartY: 0\r\n\t\t\t},\r\n\t\t\tpreviousSidebar: 'hotList',\r\n\t\t\tscrollTop: 0,\r\n\t\t\t// 标题栏\r\n\t\t\ttitle: '热门课程',\r\n\t\t\ttitleText: config.titleText,\r\n\t\t\ttitleBackgroundColor: config.titleBackgroundColor,\r\n\t\t\ttitleContainerStyle: {\r\n\t\t\t\t'background-color': '#db4437'\r\n\t\t\t},\r\n\t\t\ttabBarPosition: {\r\n\t\t\t\ttransform: '0px'\r\n\t\t\t},\r\n\t\t\t// class\r\n\t\t\ttitleContainerClass: {\r\n\t\t\t\t'tab-expand': true,\r\n\t\t\t\t'title-reverse': false\r\n\t\t\t},\r\n\t\t\ttabContainerClass: {\r\n\t\t\t\t'support-touch': false\r\n\t\t\t},\r\n\t\t\twindowContainerClass: {\r\n\t\t\t\t'window-container-expand': true\r\n\t\t\t},\r\n\t\t\t// 数据\r\n\t\t\thotList: null,\r\n\t\t\tsearchResult: null,\r\n\t\t\tfilterResult: null,\r\n\t\t\ttoast: {\r\n\t\t\t\tshow: false,\r\n\t\t\t\tmessage: ''\r\n\t\t\t},\r\n\t\t\tfilterOptions: {\r\n\t\t\t\trate: 'default',\r\n\t\t\t\troll: 'default',\r\n\t\t\t\texam: 'default',\r\n\t\t\t\ttype: 'default',\r\n\t\t\t\ttime: 'default'\r\n\t\t\t},\r\n\t\t\tfilterConditions: config.filterConditions,\r\n\t\t\trateCourseSelected: false,\r\n\t\t\trateSearchResult: null,\r\n\t\t\trateOptions: {\r\n\t\t\t\tcode: '',\r\n\t\t\t\tname: '',\r\n\t\t\t\tteacher: '',\r\n\t\t\t\ttime: '',\r\n\t\t\t\troll: 'never',\r\n\t\t\t\texam: 'paper',\r\n\t\t\t\tteacherScore: 6,\r\n\t\t\t\tnickname: '',\r\n\t\t\t\tcomment: ''\r\n\t\t\t},\r\n\t\t\tdetail: {\r\n\t\t\t\tname: '',\r\n\t\t\t\tteacher: '',\r\n\t\t\t\ttime: '',\r\n\t\t\t\ttype: '',\r\n\t\t\t\troll: '',\r\n\t\t\t\trateTimes: '',\r\n\t\t\t\tscore: '',\r\n\t\t\t\tcommentTimes: '',\r\n\t\t\t\tcomments: []\r\n\t\t\t},\r\n\t\t\trateConditions: config.rateConditions\r\n\t\t},\r\n\t\tready() {\r\n\t\t\t// 在iOS Safari中启用:active伪类\r\n\t\t\tdocument.addEventListener('touchstart', function() {}, true);\r\n\r\n\t\t\t// 如果折·用户代理支持触摸则开启课程类别触摸支持\r\n\t\t\tif ('createTouch' in document) {\r\n\t\t\t\tthis.tabContainerClass['support-touch'] = true;\r\n\t\t\t}\r\n\t\t\t// 展开所有筛选条件/评分条件菜单\r\n\t\t\t[...$('.main-filter h3')].forEach(function(h3) {\r\n\t\t\t\th3.click();\r\n\t\t\t});\r\n\t\t\t// 初始化加载首页数据\r\n\t\t\tthis.loadHotList('all');\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\ttoggleSidebar() {\r\n\t\t\t\tthis.isShowSidebar = !this.isShowSidebar;\r\n\t\t\t},\r\n\t\t\tback() {\r\n\t\t\t\tthis.changeWindow(this.previousSidebar);\r\n\t\t\t},\r\n\t\t\tpreventMask(e) {\r\n\t\t\t\t// 当侧边栏显示时防止页面滚动\r\n\t\t\t\te.preventDefault();\r\n\t\t\t},\r\n\t\t\tchangeRateCourse() {\r\n\t\t\t\tthis.rateCourseSelected = false;\r\n\t\t\t},\r\n\t\t\tshowToast(msg) {\r\n\t\t\t\t// 显示通知\r\n\t\t\t\tthis.toast.message = msg;\r\n\t\t\t\tthis.toast.show = true;\r\n\t\t\t\tclearTimeout(this.toastTimeoutId);\r\n\t\t\t\tthis.toastTimeoutId = setTimeout(() => {\r\n\t\t\t\t\tthis.toast.show = false;\r\n\t\t\t\t}, 3000);\r\n\t\t\t},\r\n\t\t\tslideToToggleSidebar(action, e) {\r\n\t\t\t\tlet type = e.type;\r\n\t\t\t\tlet sidebar = $('#sidebar')[0];\r\n\t\t\t\tlet movedX = 0;\r\n\t\t\t\tlet movedY = 0;\r\n\r\n\t\t\t\tswitch (type) {\r\n\t\t\t\t\tcase 'touchstart':\r\n\t\t\t\t\t\t// 增加transition为linear的class，不然会出现侧边栏不跟随手指的情况\r\n\t\t\t\t\t\tsidebar.classList.add('on-touch-move');\r\n\t\t\t\t\t\tthis.slideToHideSidebarPosition.startX = e.touches[0].clientX;\r\n\t\t\t\t\t\tthis.slideToHideSidebarPosition.startY = e.touches[0].clientY;\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'touchmove':\r\n\t\t\t\t\t\t// 计算移动的距离\r\n\t\t\t\t\t\tmovedX = e.touches[0].clientX - this.slideToHideSidebarPosition.startX;\r\n\t\t\t\t\t\tmovedY = Math.abs(e.touches[0].clientY - this.slideToHideSidebarPosition.startY);\r\n\r\n\t\t\t\t\t\tif (movedY < 50) {\r\n\t\t\t\t\t\t\t// 让侧边栏跟随手指滑动\r\n\t\t\t\t\t\t\tif (action === 'hide') {\r\n\t\t\t\t\t\t\t\tmovedX = movedX > 0 ? 0 : movedX;\r\n\t\t\t\t\t\t\t\tsidebar.style.transform = 'translateX(' + movedX + 'px)';\r\n\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t} else if (action === 'open' && movedX > 50) {\r\n\t\t\t\t\t\t\t\tmovedX = movedX > 210 ? 210 : movedX;\r\n\t\t\t\t\t\t\t\tsidebar.style.transform = 'translateX(' + (-210 + movedX) + 'px)';\r\n\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tsidebar.style.transform = 'translateX(' + (-210 + movedX) + 'px)';\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthis.slideToHideSidebarPosition.movedX = movedX;\r\n\t\t\t\t\t\t\tthis.slideToHideSidebarPosition.movedY = movedY;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'touchend':\r\n\t\t\t\t\t\t// 移除css中的transition属性\r\n\t\t\t\t\t\tsidebar.classList.remove('on-touch-move');\r\n\r\n\t\t\t\t\t\t// 如果手指滑动小于25px则回到原先的状态\r\n\t\t\t\t\t\tif (action === 'hide' && this.slideToHideSidebarPosition.movedX < -50 && this.slideToHideSidebarPosition.movedY < 50) {\r\n\t\t\t\t\t\t\tsidebar.style.transform = 'translateX(-210px)';\r\n\t\t\t\t\t\t\tsidebar.removeAttribute('style');\r\n\t\t\t\t\t\t\tthis.isShowSidebar = false;\r\n\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t} else if (action === 'open' && this.slideToHideSidebarPosition.movedX > 50 && this.slideToHideSidebarPosition.movedY < 50) {\r\n\t\t\t\t\t\t\tsidebar.style.transform = 'translateX(0px)';\r\n\t\t\t\t\t\t\tsidebar.removeAttribute('style');\r\n\t\t\t\t\t\t\tthis.isShowSidebar = true;\r\n\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t// 当手指滑动超过25px，才会显示/隐藏侧边栏\r\n\t\t\t\t\t\t\tif (action === 'hide') {\r\n\t\t\t\t\t\t\t\tsidebar.style.transform = 'translateX(0px)';\r\n\t\t\t\t\t\t\t} else if (action === 'open') {\r\n\t\t\t\t\t\t\t\tsidebar.style.transform = 'translateX(-210px)';\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\tsidebar.removeAttribute('style');\r\n\t\t\t\t\t\t\t\tsidebar.classList.remove('on-touch-move');\r\n\t\t\t\t\t\t\t}, 300);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tthis.slideToHideSidebarPosition.movedX = 0;\r\n\t\t\t\t\t\tthis.slideToHideSidebarPosition.movedY = 0;\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'touchcancel':\r\n\t\t\t\t\t\tsidebar.classList.remove('on-touch-move');\r\n\t\t\t\t\t\tsidebar.removeAttribute('style');\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tchangeTab(e, noLoadFlag) {\r\n\t\t\t\tlet target = e.target;\r\n\t\t\t\tlet preTab = target.parentNode.getElementsByTagName('li');\r\n\t\t\t\tlet previousIndex, index, type, position;\r\n\r\n\t\t\t\tif (target.nodeName.toUpperCase() !== 'LI') return;\r\n\r\n\t\t\t\t[...preTab].forEach(function(li) {\r\n\t\t\t\t\tif (li.classList.contains('tab-current')) {\r\n\t\t\t\t\t\tpreviousIndex = +li.getAttribute('data-index');\r\n\t\t\t\t\t}\r\n\t\t\t\t\tli.classList.remove('tab-current');\r\n\t\t\t\t});\r\n\r\n\t\t\t\ttarget.classList.add('tab-current');\r\n\t\t\t\tindex = +target.getAttribute('data-index');\r\n\t\t\t\ttype = target.getAttribute('data-type');\r\n\t\t\t\tposition = 'translateX(' + (index * 150) + 'px)';\r\n\t\t\t\tthis.tabBarPosition.transform = position;\r\n\t\t\t\twindow.scrollTo(0, 0);\r\n\r\n\t\t\t\tif (!noLoadFlag) {\r\n\t\t\t\t\tthis.loadHotList(type, previousIndex);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tloadHistoryHostlist(type, previousIndex) {\r\n\t\t\t\tlet timeStr = '',\r\n\t\t\t\t\tdata;\r\n\r\n\t\t\t\ttype = 'hotLists' + type.slice(0, 1).toUpperCase() + type.slice(1);\r\n\t\t\t\tdata = window.localStorage[type] ? JSON.parse(window.localStorage[type]) : false;\r\n\t\t\t\tthis.loading.hotList = false;\r\n\r\n\t\t\t\tif (!data) {\r\n\t\t\t\t\tlet e = {\r\n\t\t\t\t\t\ttarget: $('.tab li')[previousIndex]\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\tthis.showToast(config.MSG.NETWORK_ERROR);\r\n\t\t\t\t\tthis.changeTab(e, true);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tlet d = new Date(data.time);\r\n\r\n\t\t\t\t\ttimeStr += `${d.getFullYear()}年${(d.getMonth()+1)}月${d.getDate()}日 ${d.getHours()}:${d.getMinutes()}:${d.getSeconds()}`;\r\n\t\t\t\t\tthis.showToast(config.MSG.SHOW_CACHED_DATA(timeStr));\r\n\t\t\t\t\tthis.hotList = data.data;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tloadHotList(type, previousIndex) {\r\n\t\t\t\t// 参数previousIndex是为了应对网络连接失败的\r\n\t\t\t\t// 如果网络连接失败，二级菜单中指示当前课程类型的白色条应该回到之前的位置，避免误解\r\n\t\t\t\tthis.loading.hotList = true;\r\n\r\n\t\t\t\treqwest({\r\n\t\t\t\t\turl: `/lessen/hotLists/${type}`,\r\n\t\t\t\t\ttype: 'json'\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tif (res.code === 0) {\r\n\t\t\t\t\t\ttype = 'hotLists' + type.slice(0, 1).toUpperCase() + type.slice(1);\r\n\t\t\t\t\t\tthis.hotList = res.data;\r\n\t\t\t\t\t\twindow.localStorage.removeItem(type);\r\n\t\t\t\t\t\twindow.localStorage[type] = JSON.stringify(res);\r\n\t\t\t\t\t\tthis.loading.hotList = false;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.loadHistoryHostlist(type, previousIndex);\r\n\t\t\t\t\t}\r\n\t\t\t\t}).fail(() => {\r\n\t\t\t\t\tthis.loadHistoryHostlist(type, previousIndex);\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tshowDetail(e) {\r\n\t\t\t\tlet target = e.target,\r\n\t\t\t\t\tcode;\r\n\r\n\t\t\t\twhile (target.nodeName.toUpperCase() !== 'LI') {\r\n\t\t\t\t\ttarget = target.parentNode;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcode = target.getAttribute('data-code');\r\n\t\t\t\tthis.changeWindow('detail');\r\n\t\t\t\tthis.loadDetail(code);\r\n\t\t\t},\r\n\t\t\tdetailRate() {\r\n\t\t\t\tlet keys = ['code', 'name', 'teacher', 'time'];\r\n\r\n\t\t\t\tthis.changeWindow('rate');\r\n\t\t\t\tthis.rateCourseSelected = true;\r\n\t\t\t\tkeys.forEach(key => {\r\n\t\t\t\t\tthis.rateOptions[key] = this.detail[key];\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tloadDetail(code) {\r\n\t\t\t\tthis.loading.detail = true;\r\n\r\n\t\t\t\treqwest({\r\n\t\t\t\t\turl: `/lessen/detail/${code}`,\r\n\t\t\t\t\ttype: 'json'\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tif (res.code === 0) {\r\n\t\t\t\t\t\tthis.loading.detail = false;\r\n\t\t\t\t\t\tthis.detail = res.data;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.loading.detail = false;\r\n\t\t\t\t\t\tthis.error.detail = true;\r\n\t\t\t\t\t\tthis.showToast(config.MSG.NETWORK_ERROR);\r\n\t\t\t\t\t}\r\n\t\t\t\t}).fail(() => {\r\n\t\t\t\t\tthis.loading.detail = false;\r\n\t\t\t\t\tthis.error.detail = true;\r\n\t\t\t\t\tthis.showToast(config.MSG.NETWORK_ERROR);\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tsearch(e, type) {\r\n\t\t\t\tlet q = e.target.value;\r\n\t\t\t\tlet data;\r\n\r\n\t\t\t\tif (type === 'rate') {\r\n\t\t\t\t\tthis.rateSearchResult = [];\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.searchResult = [];\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!q) {\r\n\t\t\t\t\tthis.searchResult = null;\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tdata = {\r\n\t\t\t\t\tq: q\r\n\t\t\t\t};\r\n\r\n\t\t\t\tthis.loading[type] = true;\r\n\r\n\t\t\t\treqwest({\r\n\t\t\t\t\turl: '/lessen/search',\r\n\t\t\t\t\ttype: 'json',\r\n\t\t\t\t\tdata: data\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tif (res.code === 0) {\r\n\t\t\t\t\t\tthis.loading[type] = false;\r\n\t\t\t\t\t\tif (type === 'rate') {\r\n\t\t\t\t\t\t\tthis.rateSearchResult = res.data;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.searchResult = res.data;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}).fail(() => {\r\n\t\t\t\t\tthis.loading[type] = false;\r\n\t\t\t\t\tthis.showToast(config.MSG.NETWORK_ERROR);\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tselectRateCourse(e) {\r\n\t\t\t\tlet target = e.target;\r\n\t\t\t\tlet code;\r\n\r\n\t\t\t\twhile (target.nodeName.toUpperCase() !== 'LI') {\r\n\t\t\t\t\ttarget = target.parentNode;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcode = +target.getAttribute('data-code');\r\n\t\t\t\tthis.rateSearchResult.forEach(course => {\r\n\t\t\t\t\tif (+course.code === code) {\r\n\t\t\t\t\t\tthis.rateOptions.code = code;\r\n\t\t\t\t\t\tthis.rateOptions.name = course.name;\r\n\t\t\t\t\t\tthis.rateOptions.time = course.time;\r\n\t\t\t\t\t\tthis.rateOptions.teacher = course.teacher;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tthis.rateCourseSelected = true;\r\n\t\t\t},\r\n\t\t\tsubmitRate(e) {\r\n\t\t\t\tlet target = e.target;\r\n\t\t\t\tlet comment = $('#rate-comment')[0];\r\n\t\t\t\tlet optionLi = $('#rate-options .main-filter>li>h3');\r\n\t\t\t\tlet input = $('#rate-search-input')[0];\r\n\r\n\t\t\t\tif (target.classList.contains('submitting')) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (!this.rateOptions.code) {\r\n\t\t\t\t\t\tthis.showToast(config.MSG.SELECT_COURSE);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttarget.classList.add('submitting');\r\n\t\t\t\t\ttarget.innerText = config.MSG.SUBMITTING;\r\n\t\t\t\t\tthis.rateOptions.comment = encodeURIComponent(comment.innerText);\r\n\t\t\t\t}\r\n\r\n\t\t\t\treqwest({\r\n\t\t\t\t\turl: '/lessen/rate',\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\ttype: 'json',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tcode: this.rateOptions.code,\r\n\t\t\t\t\t\troll: this.rateOptions.roll,\r\n\t\t\t\t\t\texam: this.rateOptions.exam,\r\n\t\t\t\t\t\tteacherScore: this.rateOptions.teacherScore,\r\n\t\t\t\t\t\tcomment: this.rateOptions.comment,\r\n\t\t\t\t\t\tnickname: encodeURIComponent(this.rateOptions.nickname)\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tif (res.code === 0) {\r\n\t\t\t\t\t\ttarget.classList.remove('submitting');\r\n\t\t\t\t\t\ttarget.innerText = config.MSG.SUBMIT;\r\n\t\t\t\t\t\tthis.showToast(config.MSG.SUBMIT_SUCCESS);\r\n\t\t\t\t\t\tthis.rateCourseSelected = false;\r\n\t\t\t\t\t\tthis.rateOptions.code = '';\r\n\t\t\t\t\t\tthis.rateOptions.name = '';\r\n\t\t\t\t\t\tthis.rateOptions.time = '';\r\n\t\t\t\t\t\tthis.rateOptions.teacher = '';\r\n\t\t\t\t\t\tthis.rateOptions.comment = '';\r\n\t\t\t\t\t\tthis.rateSearchResult = null;\r\n\t\t\t\t\t\tcomment.innerHTML = '<p style=\"color: #999;\" id=\"rate-comment-placeholder\">输入你的评价</p>';\r\n\t\t\t\t\t\t[...optionLi].forEach(function(li) {\r\n\t\t\t\t\t\t\tli.click();\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tinput.value = '';\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\ttarget.innerText = config.MSG.SUBMIT;\r\n\t\t\t\t\t\tthis.showToast(config.MSG.NETWORK_ERROR);\r\n\t\t\t\t\t\ttarget.classList.remove('submitting');\r\n\t\t\t\t\t}\r\n\t\t\t\t}).fail(() => {\r\n\t\t\t\t\ttarget.innerText = config.MSG.SUBMIT;\r\n\t\t\t\t\tthis.showToast(config.MSG.NETWORK_ERROR);\r\n\t\t\t\t\ttarget.classList.remove('submitting');\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\twheel(e) {\r\n\t\t\t\t// 如果用户代理不支持触摸且窗口宽度不够显示所有课程类型\r\n\t\t\t\t// 则当鼠标在课程类型上滚动鼠标滚轮，就可以前后滑动类型列表，显示被隐藏的课程类型\r\n\t\t\t\tlet tab = $('#tab-container')[0];\r\n\t\t\t\tlet position = window.getComputedStyle(tab, null).getPropertyValue('transform');\r\n\r\n\t\t\t\tif (document.documentElement.clientWidth < 900) {\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\tposition = position.match(/\\-?\\d+/g);\r\n\t\t\t\t\tposition = position ? +position[4] : 0;\r\n\t\t\t\t\t// 限制位移不超过-750px\r\n\t\t\t\t\t// 限制位移不超过0px\r\n\t\t\t\t\tposition = (e.deltaY > 0) ? ((position - 150 <= -750) ? -750 : position - 150) : ((position + 150 >= 0) ? 0 : position + 150);\r\n\t\t\t\t\ttab.style.transform = 'translateX(' + position + 'px)';\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tloadSystemStatus() {\r\n\t\t\t\treqwest({\r\n\t\t\t\t\turl: '/lessen/systemStatus',\r\n\t\t\t\t\ttype: 'json',\r\n\t\t\t\t\tmethod: 'GET'\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tif (res.code === 0) {\r\n\t\t\t\t\t\tthis.systemStatus = res.data;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.showToast(config.MSG.NETWORK_ERROR);\r\n\t\t\t\t\t}\r\n\t\t\t\t}).fail(() => {\r\n\t\t\t\t\tthis.showToast(config.MSG.NETWORK_ERROR);\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tchangeWindow(windowOption) {\r\n\t\t\t\tObject.keys(this.windowShow).forEach(key => {\r\n\t\t\t\t\tif (this.windowShow[key]) {\r\n\t\t\t\t\t\tthis.previousSidebar = key;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.windowShow[key] = false;\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// 如果切换到热门，则将二级菜单展开，否则隐藏。\r\n\t\t\t\tif (windowOption === 'hotList') {\r\n\t\t\t\t\tthis.titleContainerClass['tab-expand'] = true;\r\n\t\t\t\t\tthis.windowContainerClass['window-container-expand'] = true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.titleContainerClass['tab-expand'] = false;\r\n\t\t\t\t\tthis.windowContainerClass['window-container-expand'] = false;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// 如果切换到非热门/评分/筛选（标题栏非白色），则切换标题栏的class，使其背景为白色，字为灰色\r\n\t\t\t\tif (windowOption !== 'hotList' && windowOption !== 'rate' && windowOption !== 'filter') {\r\n\t\t\t\t\tthis.titleContainerClass['title-reverse'] = true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.titleContainerClass['title-reverse'] = false;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// 如果为搜索或者搜索按钮，则显示搜索\r\n\t\t\t\tif (windowOption === 'search' || windowOption === 'searchBtn') {\r\n\t\t\t\t\tthis.showSearch = true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.showSearch = false;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// 如果是关于页则加载评分和评价次数\r\n\t\t\t\tif (windowOption === 'about') {\r\n\t\t\t\t\tthis.loadSystemStatus();\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// windowShow中没有searchBtn属性，所以把searchBtn转为search\r\n\t\t\t\twindowOption = windowOption === 'searchBtn' ? 'search' : windowOption;\r\n\t\t\t\tthis.title = this.titleText[windowOption];\r\n\t\t\t\tthis.titleContainerStyle['background-color'] = this.titleBackgroundColor[windowOption];\r\n\t\t\t\tthis.windowShow[windowOption] = true;\r\n\t\t\t\tthis.isShowSidebar = false;\r\n\r\n\t\t\t\t// 记录页面滚动位置\r\n\t\t\t\tif (windowOption === 'detail') {\r\n\t\t\t\t\tthis.scrollTop = document.body.scrollTop;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// 如果从detail切换到其他页面，恢复到之前的页面位置\r\n\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\tif (windowOption === 'detail') {\r\n\t\t\t\t\t\twindow.scrollTo(0, 0);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\twindow.scrollTo(0, this.scrollTop);\r\n\t\t\t\t\t\tthis.scrollTop = 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\trateComment(e) {\r\n\t\t\t\tlet target = e.target;\r\n\t\t\t\tlet placeholder = $('#rate-comment-placeholder');\r\n\t\t\t\tlet selection = window.getSelection();\r\n\t\t\t\tlet range = document.createRange();\r\n\r\n\t\t\t\tif (placeholder.length === 1) {\r\n\t\t\t\t\tplaceholder[0].remove();\r\n\t\t\t\t\trange.setStart(target, 0);\r\n\t\t\t\t\trange.setEnd(target, 0);\r\n\t\t\t\t\tselection.removeAllRanges();\r\n\t\t\t\t\tselection.addRange(range);\r\n\t\t\t\t} else if (target.innerText === '') {\r\n\t\t\t\t\ttarget.innerHTML = '<p style=\"color: #999;\" id=\"rate-comment-placeholder\">输入你的评价</p>';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n});"],"sourceRoot":"/source/"}